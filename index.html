<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¯æ—¥è¿åŠ¿æŒ‡å—</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background-color: #f9f4e8;
            color: #5a4a3a;
            text-align: center;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: #fff9f0;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #b38a6d;
        }
        input {
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #d1c0a8;
            border-radius: 5px;
            width: 80%;
        }
        button {
            background: #b38a6d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #9a755a;
        }
        #result {
            margin-top: 20px;
            padding: 15px;
            background: #f0e6d6;
            border-radius: 10px;
            display: none;
        }
        .zodiac-icon {
            font-size: 24px;
            margin: 10px;
        }
        .date-display {
            color: #8c7853;
            font-weight: bold;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>æ¯æ—¥è¿åŠ¿æŒ‡å—</h1>
        <p>äº²çˆ±çš„æœ‹å‹ï¼Œè¯·è¾“å…¥æ‚¨çš„å‡ºç”Ÿæ—¥æœŸï¼Œè·å–ä»Šæ—¥ä¸“å±è¿åŠ¿æŒ‡å¼•</p>
        
        <input type="date" id="birthdate" required>
        <button onclick="calculateLuck()">æŸ¥çœ‹ä»Šæ—¥è¿åŠ¿</button>
        
        <div id="result">
            <div class="date-display" id="today-date"></div>
            <p id="age"></p>
            <p id="horoscope"></p>
            <p id="zodiac"></p>
            <p id="daily-luck"></p>
            <p class="zodiac-icon" id="zodiac-icon"></p>
            <p><em>æ„¿æ‚¨ä»Šæ—¥é¡ºé‚å¦‚æ„</em></p>
        </div>
    </div>

    <script>
        // è·å–ä»Šå¤©çš„æ—¥æœŸå¹¶æ˜¾ç¤º
        function getTodayDate() {
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
            return now.toLocaleDateString('zh-CN', options);
        }

        // æ ¹æ®æ—¥æœŸç”Ÿæˆæ¯æ—¥ä¸åŒçš„è¿åŠ¿å†…å®¹
        function generateDailyLuck(sign, animal) {
            const dayOfYear = Math.floor((new Date() - new Date(new Date().getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24);
            const luckIndex = Math.floor(dayOfYear % 5); // 5ç§ä¸åŒçš„è¿åŠ¿è½®æµ
            
            const luckMessages = {
                general: [
                    "ä»Šæ—¥å®œé™å¿ƒæ€è€ƒï¼Œå¯èƒ½ä¼šæœ‰æ„å¤–æ”¶è·ã€‚",
                    "ä»Šå¤©æ˜¯è¡ŒåŠ¨çš„å¥½æ—¥å­ï¼Œå‹‡æ•¢è¿ˆå‡ºç¬¬ä¸€æ­¥å§ã€‚",
                    "æ³¨æ„äººé™…å…³ç³»ï¼Œæ¸©å’Œçš„æ²Ÿé€šä¼šå¸¦æ¥å¥½è¿ã€‚",
                    "è´¢è¿ä¸é”™ï¼Œä½†ä¹Ÿè¦ç†æ€§æ¶ˆè´¹å“¦ã€‚",
                    "é€‚åˆå­¦ä¹ æ–°çŸ¥è¯†ï¼Œæå‡è‡ªæˆ‘çš„ä¸€å¤©ã€‚"
                ],
                signSpecific: {
                    "ç™½ç¾Šåº§": ["ä»Šæ—¥å……æ»¡æ´»åŠ›", "æ³¨æ„æ§åˆ¶è„¾æ°”", "é€‚åˆè¿åŠ¨", "åˆ›æ„çµæ„Ÿä¸°å¯Œ", "å¯èƒ½ä¼šé‡åˆ°è´µäºº"],
                    "é‡‘ç‰›åº§": ["è´¢åŠ¡æ–¹é¢æœ‰å¥½æ¶ˆæ¯", "äº«å—ç¾é£Ÿçš„ä¸€å¤©", "å®œæ•´ç†å®¶å±…", "è€å¿ƒä¼šæœ‰å›æŠ¥", "é€‚åˆæŠ•èµ„è‡ªå·±"],
                    // å…¶ä»–æ˜Ÿåº§çš„æ¯æ—¥è¿åŠ¿...
                },
                animalSpecific: {
                    "é¼ ": ["æœºæ•å¸¦æ¥æœºä¼š", "æ³¨æ„ç»†èŠ‚é—®é¢˜", "å®œç»“äº¤æ–°æœ‹å‹", "å°å¿ƒç†è´¢", "å®¶åº­è¿ä½³"],
                    "ç‰›": ["ç¨³æ­¥å‰è¿›", "å¥åº·è¿è‰¯å¥½", "å·¥ä½œè¡¨ç°çªå‡º", "é¿å…å›ºæ‰§å·±è§", "æ„Ÿæƒ…è¿ä¸Šå‡"],
                    // å…¶ä»–ç”Ÿè‚–çš„æ¯æ—¥è¿åŠ¿...
                }
            };

            // ç»„åˆé€šç”¨è¿åŠ¿å’Œä¸“å±è¿åŠ¿
            const generalLuck = luckMessages.general[luckIndex];
            const signLuck = luckMessages.signSpecific[sign] ? luckMessages.signSpecific[sign][luckIndex] : "";
            const animalLuck = luckMessages.animalSpecific[animal] ? luckMessages.animalSpecific[animal][luckIndex] : "";
            
            return `
                <p>${generalLuck}</p>
                ${signLuck ? `<p>å¯¹${sign}çš„æ‚¨ï¼š${signLuck}</p>` : ""}
                ${animalLuck ? `<p>å±${animal}çš„æ‚¨ï¼š${animalLuck}</p>` : ""}
            `;
        }

        function calculateLuck() {
            const birthdate = new Date(document.getElementById("birthdate").value);
            const today = new Date();
            
            // éªŒè¯è¾“å…¥
            if (!birthdate.getTime()) {
                alert("è¯·è¾“å…¥æœ‰æ•ˆçš„æ—¥æœŸ");
                return;
            }

            // æ˜¾ç¤ºä»Šå¤©çš„æ—¥æœŸ
            document.getElementById("today-date").textContent = `ä»Šå¤©æ˜¯ï¼š${getTodayDate()}`;

            // è®¡ç®—å¹´é¾„
            let age = today.getFullYear() - birthdate.getFullYear();
            if (today.getMonth() < birthdate.getMonth() || 
                (today.getMonth() === birthdate.getMonth() && today.getDate() < birthdate.getDate())) {
                age--;
            }
            document.getElementById("age").innerHTML = `âœ¨ æ‚¨ä»Šå¹´ <strong>${age}</strong> å²ï¼Œæ­£å€¼ç¾å¥½å¹´å`;

            // æ˜Ÿåº§è®¡ç®—
            const horoscopes = [
                { sign: "æ‘©ç¾¯åº§", dates: "12æœˆ22æ—¥-1æœˆ19æ—¥" },
                { sign: "æ°´ç“¶åº§", dates: "1æœˆ20æ—¥-2æœˆ18æ—¥" },
                { sign: "åŒé±¼åº§", dates: "2æœˆ19æ—¥-3æœˆ20æ—¥" },
                { sign: "ç™½ç¾Šåº§", dates: "3æœˆ21æ—¥-4æœˆ19æ—¥" },
                { sign: "é‡‘ç‰›åº§", dates: "4æœˆ20æ—¥-5æœˆ20æ—¥" },
                { sign: "åŒå­åº§", dates: "5æœˆ21æ—¥-6æœˆ20æ—¥" },
                { sign: "å·¨èŸ¹åº§", dates: "6æœˆ21æ—¥-7æœˆ22æ—¥" },
                { sign: "ç‹®å­åº§", dates: "7æœˆ23æ—¥-8æœˆ22æ—¥" },
                { sign: "å¤„å¥³åº§", dates: "8æœˆ23æ—¥-9æœˆ22æ—¥" },
                { sign: "å¤©ç§¤åº§", dates: "9æœˆ23æ—¥-10æœˆ22æ—¥" },
                { sign: "å¤©èåº§", dates: "10æœˆ23æ—¥-11æœˆ21æ—¥" },
                { sign: "å°„æ‰‹åº§", dates: "11æœˆ22æ—¥-12æœˆ21æ—¥" }
            ];
            
            const month = birthdate.getMonth() + 1;
            const day = birthdate.getDate();
            let horoscope;
            
            if ((month === 1 && day >= 20) || (month === 2 && day <= 18)) horoscope = horoscopes[1];
            else if ((month === 2 && day >= 19) || (month === 3 && day <= 20)) horoscope = horoscopes[2];
            else if ((month === 3 && day >= 21) || (month === 4 && day <= 19)) horoscope = horoscopes[3];
            else if ((month === 4 && day >= 20) || (month === 5 && day <= 20)) horoscope = horoscopes[4];
            else if ((month === 5 && day >= 21) || (month === 6 && day <= 20)) horoscope = horoscopes[5];
            else if ((month === 6 && day >= 21) || (month === 7 && day <= 22)) horoscope = horoscopes[6];
            else if ((month === 7 && day >= 23) || (month === 8 && day <= 22)) horoscope = horoscopes[7];
            else if ((month === 8 && day >= 23) || (month === 9 && day <= 22)) horoscope = horoscopes[8];
            else if ((month === 9 && day >= 23) || (month === 10 && day <= 22)) horoscope = horoscopes[9];
            else if ((month === 10 && day >= 23) || (month === 11 && day <= 21)) horoscope = horoscopes[10];
            else if ((month === 11 && day >= 22) || (month === 12 && day <= 21)) horoscope = horoscopes[11];
            else horoscope = horoscopes[0];
            
            document.getElementById("horoscope").innerHTML = 
                `ğŸŒ¿ æ‚¨çš„æ˜Ÿåº§æ˜¯ï¼š<strong>${horoscope.sign}</strong> (${horoscope.dates})`;

            // ç”Ÿè‚–è®¡ç®—
            const zodiacs = [
                { animal: "é¼ ", years: [2020, 2008, 1996, 1984], emoji: "ğŸ€" },
                { animal: "ç‰›", years: [2021, 2009, 1997, 1985], emoji: "ğŸ‚" },
                { animal: "è™", years: [2022, 2010, 1998, 1986], emoji: "ğŸ…" },
                { animal: "å…”", years: [2023, 2011, 1999, 1987], emoji: "ğŸ‡" },
                { animal: "é¾™", years: [2012, 2000, 1988, 1976], emoji: "ğŸ‰" },
                { animal: "è›‡", years: [2013, 2001, 1989, 1977], emoji: "ğŸ" },
                { animal: "é©¬", years: [2014, 2002, 1990, 1978], emoji: "ğŸ" },
                { animal: "ç¾Š", years: [2015, 2003, 1991, 1979], emoji: "ğŸ" },
                { animal: "çŒ´", years: [2016, 2004, 1992, 1980], emoji: "ğŸ’" },
                { animal: "é¸¡", years: [2017, 2005, 1993, 1981], emoji: "ğŸ“" },
                { animal: "ç‹—", years: [2018, 2006, 1994, 1982], emoji: "ğŸ•" },
                { animal: "çŒª", years: [2019, 2007, 1995, 1983], emoji: "ğŸ–" }
            ];
            
            const year = birthdate.getFullYear();
            const zodiac = zodiacs.find(z => z.years.includes(year));
            
            document.getElementById("zodiac").innerHTML = 
                `ğŸŒ¸ æ‚¨çš„ç”Ÿè‚–æ˜¯ï¼š<strong>${zodiac.animal}</strong> ${zodiac.emoji}`;
            document.getElementById("zodiac-icon").innerHTML = zodiac.emoji;

            // ç”Ÿæˆæ¯æ—¥è¿åŠ¿
            document.getElementById("daily-luck").innerHTML = 
                generateDailyLuck(horoscope.sign, zodiac.animal);

            // æ˜¾ç¤ºç»“æœ
            document.getElementById("result").style.display = "block";
        }
    </script>
</body>
</html>
