<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>每日运势指南</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background-color: #f9f4e8;
            color: #5a4a3a;
            text-align: center;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: #fff9f0;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #b38a6d;
        }
        input {
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #d1c0a8;
            border-radius: 5px;
            width: 80%;
        }
        button {
            background: #b38a6d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #9a755a;
        }
        #result {
            margin-top: 20px;
            padding: 15px;
            background: #f0e6d6;
            border-radius: 10px;
            display: none;
        }
        .zodiac-icon {
            font-size: 24px;
            margin: 10px;
        }
        .date-display {
            color: #8c7853;
            font-weight: bold;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>每日运势指南</h1>
        <p>亲爱的朋友，请输入您的出生日期，获取今日专属运势指引</p>
        
        <input type="date" id="birthdate" required>
        <button onclick="calculateLuck()">查看今日运势</button>
        
        <div id="result">
            <div class="date-display" id="today-date"></div>
            <p id="age"></p>
            <p id="horoscope"></p>
            <p id="zodiac"></p>
            <p id="daily-luck"></p>
            <p class="zodiac-icon" id="zodiac-icon"></p>
            <p><em>愿您今日顺遂如意</em></p>
        </div>
    </div>

    <script>
        // 获取今天的日期并显示
        function getTodayDate() {
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
            return now.toLocaleDateString('zh-CN', options);
        }

        // 根据日期生成每日不同的运势内容
        function generateDailyLuck(sign, animal) {
            const dayOfYear = Math.floor((new Date() - new Date(new Date().getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24);
            const luckIndex = Math.floor(dayOfYear % 5); // 5种不同的运势轮流
            
            const luckMessages = {
                general: [
                    "今日宜静心思考，可能会有意外收获。",
                    "今天是行动的好日子，勇敢迈出第一步吧。",
                    "注意人际关系，温和的沟通会带来好运。",
                    "财运不错，但也要理性消费哦。",
                    "适合学习新知识，提升自我的一天。"
                ],
                signSpecific: {
                    "白羊座": ["今日充满活力", "注意控制脾气", "适合运动", "创意灵感丰富", "可能会遇到贵人"],
                    "金牛座": ["财务方面有好消息", "享受美食的一天", "宜整理家居", "耐心会有回报", "适合投资自己"],
                    // 其他星座的每日运势...
                },
                animalSpecific: {
                    "鼠": ["机敏带来机会", "注意细节问题", "宜结交新朋友", "小心理财", "家庭运佳"],
                    "牛": ["稳步前进", "健康运良好", "工作表现突出", "避免固执己见", "感情运上升"],
                    // 其他生肖的每日运势...
                }
            };

            // 组合通用运势和专属运势
            const generalLuck = luckMessages.general[luckIndex];
            const signLuck = luckMessages.signSpecific[sign] ? luckMessages.signSpecific[sign][luckIndex] : "";
            const animalLuck = luckMessages.animalSpecific[animal] ? luckMessages.animalSpecific[animal][luckIndex] : "";
            
            return `
                <p>${generalLuck}</p>
                ${signLuck ? `<p>对${sign}的您：${signLuck}</p>` : ""}
                ${animalLuck ? `<p>属${animal}的您：${animalLuck}</p>` : ""}
            `;
        }

        function calculateLuck() {
            const birthdate = new Date(document.getElementById("birthdate").value);
            const today = new Date();
            
            // 验证输入
            if (!birthdate.getTime()) {
                alert("请输入有效的日期");
                return;
            }

            // 显示今天的日期
            document.getElementById("today-date").textContent = `今天是：${getTodayDate()}`;

            // 计算年龄
            let age = today.getFullYear() - birthdate.getFullYear();
            if (today.getMonth() < birthdate.getMonth() || 
                (today.getMonth() === birthdate.getMonth() && today.getDate() < birthdate.getDate())) {
                age--;
            }
            document.getElementById("age").innerHTML = `✨ 您今年 <strong>${age}</strong> 岁，正值美好年华`;

            // 星座计算
            const horoscopes = [
                { sign: "摩羯座", dates: "12月22日-1月19日" },
                { sign: "水瓶座", dates: "1月20日-2月18日" },
                { sign: "双鱼座", dates: "2月19日-3月20日" },
                { sign: "白羊座", dates: "3月21日-4月19日" },
                { sign: "金牛座", dates: "4月20日-5月20日" },
                { sign: "双子座", dates: "5月21日-6月20日" },
                { sign: "巨蟹座", dates: "6月21日-7月22日" },
                { sign: "狮子座", dates: "7月23日-8月22日" },
                { sign: "处女座", dates: "8月23日-9月22日" },
                { sign: "天秤座", dates: "9月23日-10月22日" },
                { sign: "天蝎座", dates: "10月23日-11月21日" },
                { sign: "射手座", dates: "11月22日-12月21日" }
            ];
            
            const month = birthdate.getMonth() + 1;
            const day = birthdate.getDate();
            let horoscope;
            
            if ((month === 1 && day >= 20) || (month === 2 && day <= 18)) horoscope = horoscopes[1];
            else if ((month === 2 && day >= 19) || (month === 3 && day <= 20)) horoscope = horoscopes[2];
            else if ((month === 3 && day >= 21) || (month === 4 && day <= 19)) horoscope = horoscopes[3];
            else if ((month === 4 && day >= 20) || (month === 5 && day <= 20)) horoscope = horoscopes[4];
            else if ((month === 5 && day >= 21) || (month === 6 && day <= 20)) horoscope = horoscopes[5];
            else if ((month === 6 && day >= 21) || (month === 7 && day <= 22)) horoscope = horoscopes[6];
            else if ((month === 7 && day >= 23) || (month === 8 && day <= 22)) horoscope = horoscopes[7];
            else if ((month === 8 && day >= 23) || (month === 9 && day <= 22)) horoscope = horoscopes[8];
            else if ((month === 9 && day >= 23) || (month === 10 && day <= 22)) horoscope = horoscopes[9];
            else if ((month === 10 && day >= 23) || (month === 11 && day <= 21)) horoscope = horoscopes[10];
            else if ((month === 11 && day >= 22) || (month === 12 && day <= 21)) horoscope = horoscopes[11];
            else horoscope = horoscopes[0];
            
            document.getElementById("horoscope").innerHTML = 
                `🌿 您的星座是：<strong>${horoscope.sign}</strong> (${horoscope.dates})`;

            // 生肖计算
            const zodiacs = [
                { animal: "鼠", years: [2020, 2008, 1996, 1984], emoji: "🐀" },
                { animal: "牛", years: [2021, 2009, 1997, 1985], emoji: "🐂" },
                { animal: "虎", years: [2022, 2010, 1998, 1986], emoji: "🐅" },
                { animal: "兔", years: [2023, 2011, 1999, 1987], emoji: "🐇" },
                { animal: "龙", years: [2012, 2000, 1988, 1976], emoji: "🐉" },
                { animal: "蛇", years: [2013, 2001, 1989, 1977], emoji: "🐍" },
                { animal: "马", years: [2014, 2002, 1990, 1978], emoji: "🐎" },
                { animal: "羊", years: [2015, 2003, 1991, 1979], emoji: "🐐" },
                { animal: "猴", years: [2016, 2004, 1992, 1980], emoji: "🐒" },
                { animal: "鸡", years: [2017, 2005, 1993, 1981], emoji: "🐓" },
                { animal: "狗", years: [2018, 2006, 1994, 1982], emoji: "🐕" },
                { animal: "猪", years: [2019, 2007, 1995, 1983], emoji: "🐖" }
            ];
            
            const year = birthdate.getFullYear();
            const zodiac = zodiacs.find(z => z.years.includes(year));
            
            document.getElementById("zodiac").innerHTML = 
                `🌸 您的生肖是：<strong>${zodiac.animal}</strong> ${zodiac.emoji}`;
            document.getElementById("zodiac-icon").innerHTML = zodiac.emoji;

            // 生成每日运势
            document.getElementById("daily-luck").innerHTML = 
                generateDailyLuck(horoscope.sign, zodiac.animal);

            // 显示结果
            document.getElementById("result").style.display = "block";
        }
    </script>
</body>
</html>
